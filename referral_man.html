<!DOCTYPE>
<html lang="en">  
<head>
  <meta http-equiv="Content-type" content="text/html">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8" >
  <title>EA Interactive Wireframe</title>
  <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" media="screen" title="master">
  <link rel="stylesheet" href="css/custom.css" type="text/css" media="screen" title="master">
  <script src="js/vendor/jquery-3.3.1.min.js" type="text/javascript"></script>
</head>

<body style="height:100%;">
  <nav class="navbar sticky-top navbar-expand-sm navbar-dark bg-primary">
    <a class="navbar-brand mx-auto" href="https://mydex.github.io/ea_interactive_wireframe/home_loggedin.html">
      <img class="rounded" src="https://mydex.github.io/ea_interactive_wireframe/images/EPCAS-square.jpg" alt="logo" width="40">
    </a>
    <button class="navbar-toggler mx-auto" type="button" data-toggle="collapse" data-target="#nav-content" aria-controls="nav-content" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="nav-content">
      <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <li class="nav-item"><a href="https://mydex.github.io/ea_interactive_wireframe/home_loggedin.html" class="nav-link  text-white font-weight-light">Home</a></li>
        <li class="nav-item"><a href="https://mydex.github.io/ea_interactive_wireframe/visits.html" class="nav-link text-white font-weight-light">Home Visits</a></li>
        <li class="nav-item"><a href="https://mydex.github.io/ea_interactive_wireframe/client_list.html" class="nav-link text-white font-weight-light">Client List</a></li>
        <li class="nav-item dropdown"><a href="#" class="nav-link dropdown-toggle text-white font-weight-light" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Reports</a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="https://mydex.github.io/ea_interactive_wireframe/reports.html">Report overview</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="https://mydex.github.io/ea_interactive_wireframe/report-monthly.html">Current Month Activity</a>
            <a class="dropdown-item" href="https://mydex.github.io/ea_interactive_wireframe/report-past-monthly.html">Past Months Activity</a>
            <a class="dropdown-item" href="https://mydex.github.io/ea_interactive_wireframe/report-location.html">Location</a>
          </div>
        </li>
        <li class="nav-item"><a href="https://mydex.github.io/ea_interactive_wireframe/messages.html" class="nav-link text-white font-weight-light">Messages <span class="badge badge-danger">4</span></a></li>
        <li class="nav-item"><a href="https://mydex.github.io/ea_interactive_wireframe/referral_man.html" class="nav-link text-white font-weight-bold font-italic">Referral Management</a></li>
      </ul>
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-info btn-sm my-2 my-sm-0" type="submit">Search</button>
      </form class="navbar-nav mr-auto mt-2 mt-lg-0">
      <ul class="navbar-nav my-2 my-lg-0">
        <li class="nav-item"><a href="https://mydex.github.io/ea_interactive_wireframe/index.html" class="nav-link text-white font-weight-light">Log Out</a></li>
      </ul>
    </div>
  </nav>

  <main style="min-height:75%;">
    <div class="container">
      <h3 class="mt-4 mb-4">Referral Management</h3>
      <h4 class="mb-2">Invite new client to service</h4>
      <div class="row">
        <div class="col-12 col-md-8 col-lg-8">
          <p class="m-0">
            <button class="btn btn-outline-primary" type="button" data-toggle="collapse" data-target="#collapseNewClient" aria-expanded="false" aria-controls="collapseNewClient" style="box-shadow: 3px 3px 0px rgba(0, 0, 0, 0.6);">Invite</button>
          </p>
          <div class="collapse" id="collapseNewClient" aria-labelledby="headingNewClient">
           <div class="card card-body">
             <form action="/#">
               <div class="form-group">
                 <label>Forename</label>
                 <input type="text" class="form-control" id="forename" name="forename" spellcheck="true">
               </div>
               <div class="form-group">
                 <label>Surname</label>
                 <input type="text" class="form-control" id="surname" name="surname" spellcheck="true">
               </div>
               <div class="form-group">
                 <label>Contact method</label>
                 <select name="select_opt" id="select_opt" class="form-control" onchange="showField(this.options[this.selectedIndex].value)" required>
                   <option value="default"></option>
                   <option value="cit1">Mobile</option>
                   <option value="cit2">Email</option>
                   <option value="cit3">Mobile & Email</option>
                 </select>
                 <div id="input1"></div>
               </div>
               <div class="form-group">
                 <label>Referral from</label>
                 <div>
                   <select name="referral">
                     <option value="referral1">Advice works</option>
                     <option value="referral2">C4R</option>
                     <option value="referral3">Council</option>
                     <option value="referral4">Family First</option>
                     <option value="referral5">Food bank</option>
                     <option value="referral6">RAMH</option>
                   </select>
                 </div>
               </div>
               <div class="form-group">
                 <label>Person referring citizen</label>
                 <input type="text" class="form-control" id="referee" name="referee" spellcheck="true">
               </div>
               <div class="form-group">
                 <label>Contact method</label>
                 <div>
                   <select id="select_opt" class="form-control" onchange="showRefField(this.options[this.selectedIndex].value)" required>
                     <option value="default"></option>
                     <option value="ref1">None</option>
                     <option value="ref2">Mobile</option>
                     <option value="ref3">Email</option>
                     <option value="ref4">Mobile & Email</option>
                   </select>
                 </div>
                 <div id="input2"></div>
                 <div><div class="update-selector mt-2"><label class="form-check-label"> Requested an <input type="checkbox" id="update"/><label for="update">update</label></label></div></div>
               </div>
               <div class="form-group">
                 <label>Add notes</label>
                 <textarea type="text" class="form-control" spellcheck="true" rows="3"></textarea>
               </div>
             </form>
             <p><a href="#" class="btn btn-outline-primary" style="box-shadow: 3px 3px 0px rgba(0, 0, 0, 0.6);">Send</a></p>
           </div>
         </div>
       </div>
     </div>

     <h4 class="mt-4 mb-2">Status of previously invited citizens</h4>
     <input type="search" class="tableFilter form-control col-11 col-md-6 col-lg-6 mb-2" spellcheck="true" data-table="status-table" placeholder="Filter table here...">
     <div class="table-responsive">
       <table class="status-table table table-bordered table-sm text-left">
        <thead class="table-info">
          <tr>
            <th>Citizens name</th>
            <th>Status</th>
            <th>Referrer</th>
            <th>Contact Info</th>
            <th>Notes</th>
            <th>Move to historic</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Citizen Forty-four</td>
            <td>Pending</td>
            <td>Council : name</td>
            <td>077123456789</td>
            <td>
              <button class="btn btn-outline-primary" type="button" data-toggle="collapse" data-target="#collapseNotes1" aria-expanded="false" aria-controls="collapseNotes1">View</button>
              <div class="collapse" id="collapseNotes1" aria-labelledby="headingNotes1">
                <div class="card card-body">
                  <h6>Notes</h6>
                  <p class="form-control" contenteditable="true" spellcheck="true">Add any important notes here...<br><br><br></p>
                </div>
              </div>
            </td>
            <td>
              <button type="button" class="close m-0" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </td>
          </tr>
          <tr>
            <td>Citizen Thirty-six</td>
            <td>Pending</td>
            <td>Council : name</td>
            <td>077123456789</td>
            <td>
              <button class="btn btn-outline-primary" type="button" data-toggle="collapse" data-target="#collapseNotes2" aria-expanded="false" aria-controls="collapseNotes2">View</button>
              <div class="collapse" id="collapseNotes2" aria-labelledby="headingNotes2">
                <div class="card card-body">
                  <h6>Notes</h6>
                  <p class="form-control" contenteditable="true" spellcheck="true">Add any important notes here...<br><br><br></p>
                </div>
              </div>
            </td>
            <td>
              <button type="button" class="close m-0" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </td>
          </tr>
          <tr>
            <td>Citizen Fifty</td>
            <td>Pending</td>
            <td>Council : name</td>
            <td>name@email.com</td>
            <td>
              <button class="btn btn-outline-primary" type="button" data-toggle="collapse" data-target="#collapseNotes3" aria-expanded="false" aria-controls="collapseNotes3">View</button>
              <div class="collapse" id="collapseNotes3" aria-labelledby="headingNotes3">
                <div class="card card-body">
                  <h6>Notes</h6>
                  <p class="form-control" contenteditable="true" spellcheck="true">Add any important notes here...<br><br><br></p>
                </div>
              </div>
            </td>
            <td>
              <button type="button" class="close m-0" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </td>
          </tr>
          <tr>
            <td>Citizen Twenty-three</td>
            <td>Pending</td>
            <td>RAMH : name</td>
            <td>077123456789</td>
            <td>
              <button class="btn btn-outline-primary" type="button" data-toggle="collapse" data-target="#collapseNotes4" aria-expanded="false" aria-controls="collapseNotes4">View</button>
              <div class="collapse" id="collapseNotes4" aria-labelledby="headingNotes4">
                <div class="card card-body">
                  <h6>Notes</h6>
                  <p class="form-control" contenteditable="true" spellcheck="true">Add any important notes here...<br><br><br></p>
                </div>
              </div>
            </td>
            <td>
              <button type="button" class="close m-0" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <h4 class="mt-4 mb-2">Historic data</h4>
    <input type="search" class="tableFilter form-control col-11 col-md-6 col-lg-6 mb-2" spellcheck="true" data-table="historic-table" placeholder="Filter table here...">
    <div class="table-responsive">
     <table class="historic-table table table-bordered table-sm text-left">
      <thead class="table-info">
        <tr>
          <th>Citizens name</th>
          <th>Status</th>
          <th>Referrer</th>
          <th>Contact Info</th>
          <th>Notes</th>
          <th>Move back to waiting</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Citizen Thirteen</td>
          <td>No contact</td>
          <td>Council : name</td>
          <td>077123456789</td>
          <td>
            <button class="btn btn-outline-primary" type="button" data-toggle="collapse" data-target="#collapseNotes5" aria-expanded="false" aria-controls="collapseNotes5">View</button>
            <div class="collapse" id="collapseNotes5" aria-labelledby="headingNotes5">
              <div class="card card-body">
                <h6>Notes</h6>
                <p class="form-control" contenteditable="true" spellcheck="true">Add any important notes here...<br><br><br></p>
              </div>
            </div>
          </td>
          <td>
            <button type="button" class="close m-0" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </td>
        </tr>
        <tr>
          <td>Citizen Twenty-two</td>
          <td>No contact</td>
          <td>RAMH : name</td>
          <td>077123456789</td>
          <td>
            <button class="btn btn-outline-primary" type="button" data-toggle="collapse" data-target="#collapseNotes6" aria-expanded="false" aria-controls="collapseNotes6">View</button>
            <div class="collapse" id="collapseNotes6" aria-labelledby="headingNotes6">
             <div class="card card-body">
               <h6>Notes</h6>
               <p class="form-control" contenteditable="true" spellcheck="true">Add any important notes here...<br><br><br></p>
             </div>
           </div>
         </td>
         <td>
          <button type="button" class="close m-0" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

</div>
</main>

<style>
.update-selector input {
  display: none!important;
}

.update-selector input[type=checkbox] + label {
  display: inline-block;
  border-radius: 6px;
  background: #dddddd;
  height: 30px;
  width: 65px;
  margin-right: 1px;
  line-height: 30px;
  text-align: center;
  cursor: pointer;
  font-weight: bold;
}

.update-selector input[type=checkbox]:checked + label {
  background: #2AD705;
  color: #ffffff;
}
</style>

<script>
  function showField(name){
    if(name == 'cit1') {
      document.getElementById('input1').innerHTML = 'Mobile:<br> <input type="text" class="form-control" id="mobile" name="mobile"/>';
    } else if (name == 'cit2') {
      document.getElementById('input1').innerHTML = 'Email:<br> <input type="text" class="form-control" id="email" name="email"/>';
    } else if (name == 'cit3') {
      document.getElementById('input1').innerHTML = 'Mobile:<br> <input type="text" class="form-control" id="mobile" name="mobile"/> Email:<br> <input type="text" class="form-control" id="email" name="email"/>';
    } else {
      document.getElementById('input1').innerHTML='';
    } 
  }

  function showRefField(name){
    if (name =='ref1') {
      document.getElementById('input2').innerHTML = 'No contact information will be saved for referrer';
    } else if(name == 'ref2') {
      document.getElementById('input2').innerHTML = 'Referrer mobile:<br> <input type="text" class="form-control" id="mobile" name="mobile"/>';
    } else if (name == 'ref3') {
      document.getElementById('input2').innerHTML = 'Referrer email:<br> <input type="text" class="form-control" id="email" name="email"/>';
    } else if (name == 'ref4') {
      document.getElementById('input2').innerHTML = 'Referrer mobile:<br> <input type="text" class="form-control" id="mobile" name="mobile"/> Referrer email:<br> <input type="text" class="form-control" id="email" name="email"/>';
    } else {
      document.getElementById('input2').innerHTML='';
    } 
  }


  (function(document) {
    'use strict';
    var HistoricFilter = (function(Arr) {
      var input;

      function onInputEvent(e) {
        input = e.target;
        var tables = document.getElementsByClassName(input.getAttribute('data-table'));
        Arr.forEach.call(tables, function(table) {
          Arr.forEach.call(table.tBodies, function(tbody) {
            Arr.forEach.call(tbody.rows, filterRow);
          });
        });
      }

      function filterRow(row) {
        var text = row.textContent.toLowerCase(), val = input.value.toLowerCase();
        row.style.display = text.indexOf(val) === -1 ? 'none' : 'table-row';
      }

      return {
        init: function() {
          var inputs = document.getElementsByClassName('tableFilter');
          Arr.forEach.call(inputs, function(input) {
            input.oninput = onInputEvent;
          });
        }
      };
    })(Array.prototype);

    document.addEventListener('readystatechange', function() {
      if (document.readyState === 'complete') {
        HistoricFilter.init();
      }
    });

  })(document);


  (function(document) {
    'use strict';
    var StatusFilter = (function(Arr) {
      var input;

      function onInputEvent(e) {
        input = e.target;
        var tables = document.getElementsByClassName(input.getAttribute('data-table'));
        Arr.forEach.call(tables, function(table) {
          Arr.forEach.call(table.tBodies, function(tbody) {
            Arr.forEach.call(tbody.rows, filterRow);
          });
        });
      }

      function filterRow(row) {
        var text = row.textContent.toLowerCase(), val = input.value.toLowerCase();
        row.style.display = text.indexOf(val) === -1 ? 'none' : 'table-row';
      }

      return {
        init: function() {
          var inputs = document.getElementsByClassName('tableFilter');
          Arr.forEach.call(inputs, function(input) {
            input.oninput = onInputEvent;
          });
        }
      };
    })(Array.prototype);

    document.addEventListener('readystatechange', function() {
      if (document.readyState === 'complete') {
        StatusFilter.init();
      }
    });

  })(document);

</script>


<footer class="mt-2">
  <nav class="navbar navbar-expand-sm">  
    <img class="rounded mx-auto" src="https://mydex.github.io/ea_interactive_wireframe/images/EPCAS-web.png" alt="logo" width="250">
    <small class="ml-3 mr-3 mt-2 mb-2  font-italic font-weight-light">The EPCAS Project is funded by the European Social Fund under the Social Innovation Fund.</small>
    <img class="rounded mx-auto" src="https://mydex.github.io/ea_interactive_wireframe/images/esf.png" alt="logo" width="250">
  </nav>
</footer>
</body>

<script src="js/vendor/jquery-3.3.1.min.js" type="text/javascript"></script>
<script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>
<script src="js/bootstrap/bootstrap.min.js" type="text/javascript"></script>
</body>
</html>